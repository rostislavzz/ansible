---
- name: WireGuard
  hosts: justhost

  vars:
    docker_apps_dir: /srv/docker

  pre_tasks:
    - name: Include vault
      ansible.builtin.include_vars:
        file: prod.vault.yml

  roles:
    - role: docker
    - role: docker-traefik
      vars:
        - traefik_domain: "{{ duckdns_justhost }}"
        - traefik_acme_email: "{{ letsencrypt_email }}"
        - traefik_duckdns_token: "{{ duckdns_token }}"
    - role: docker-wg-easy
      vars:
        - wg_easy_host: "{{ duckdns_justhost }}"
        - wg_easy_password: "{{ password }}"
...
